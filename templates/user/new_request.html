{% extends "base.html" %}
{% block title %}Yangi talabnoma{% endblock %}
{% block content %}
<h4 class="mb-3">Yangi talabnoma (434-forma elektron varianti)</h4>
<form method="post">
  <div class="glass-card mb-3">
    <div class="mb-2">
      <label class="form-label small">Bo'lim</label>
      <input type="text" name="department" class="form-control form-control-sm" required>
    </div>
  </div>
  <div class="glass-card">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <h6 class="mb-0">Talabnoma jadvali</h6>
      <button type="button" class="btn btn-outline-light btn-sm" onclick="addRow()">+ Qator qo'shish</button>
    </div>
    <div class="table-responsive">
      <table class="table table-sm table-dark-glass align-middle mb-0" id="items-table">
        <thead>
          <tr>
            <th>Nomi, navi, xajmi</th>
            <th>O'lchov birligi</th>
            <th>Miqdori</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input name="item_name" class="form-control form-control-sm"></td>
            <td><input name="item_unit" class="form-control form-control-sm" value="dona"></td>
            <td><input name="item_amount" type="number" step="0.01" class="form-control form-control-sm"></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="mt-3 text-end">
      <button class="btn btn-primary btn-sm">Talabnomani yuborish</button>
    </div>
  </div>
</form>

<script>
function addRow() {
  const tbody = document.querySelector('#items-table tbody');
  const tr = document.createElement('tr');
  tr.innerHTML = `
    <td><input name="item_name" class="form-control form-control-sm"></td>
    <td><input name="item_unit" class="form-control form-control-sm" value="dona"></td>
    <td><input name="item_amount" type="number" step="0.01" class="form-control form-control-sm"></td>
  `;
  tbody.appendChild(tr);
}
</script>
{% endblock %}
